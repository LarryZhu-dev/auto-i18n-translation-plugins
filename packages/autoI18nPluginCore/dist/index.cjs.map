{"version":3,"file":"index.cjs","sources":["../../../node_modules/.pnpm/@rollup+plugin-typescript@11.1.6_rollup@4.20.0_tslib@2.6.3_typescript@5.5.4/node_modules/tslib/tslib.es6.js","../src/translators/translator/IntervalQueue.ts","../src/enums/language.ts","../src/enums/translate.ts","../src/enums/option.ts","../src/translators/translator/Translator.ts","../src/translators/google.ts","../src/translators/youdao.ts","../src/translators/baidu.ts","../src/translators/scan.ts","../src/translators/volcengine.ts","../src/utils/option.ts","../src/constants/translate.ts","../src/utils/base.ts","../src/option.ts","../src/extends/vue2.ts","../src/utils/json.ts","../src/utils/file.ts","../src/utils/translate.ts","../src/utils/chunk.ts","../src/filter/visitor/CallExpression.ts","../src/filter/visitor/StringLiteral.ts","../src/utils/split.ts","../src/filter/index.ts","../src/filter/visitor/JSXText.ts","../src/filter/visitor/TemplateElement.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","/**\n * 间隔执行队列\n */\nexport class IntervalQueue<T extends any[], U extends any> {\n    private delay: number\n    private timeout: number | undefined\n    private fn: (...args: T) => U\n\n    /**\n     * @param fn 执行函数\n     * @param delay 执行间隔\n     * @param timeout 超时时间\n     */\n    constructor(fn: (...args: T) => U, delay: number, timeout?: number) {\n        this.fn = fn\n        this.delay = delay\n        this.timeout = timeout\n    }\n\n    private queue: {\n        args: T\n        resolve: (value: Awaited<U>) => void\n        reject: (reason?: any) => void\n    }[] = []\n\n    private async wait(delay = this.delay) {\n        await new Promise(resolve => setTimeout(resolve, delay))\n    }\n\n    private isRunning = false\n\n    private async run() {\n        if (this.isRunning) return\n        let item: (typeof this.queue)[number] | undefined\n        while ((item = this.queue.shift())) {\n            const { args, resolve, reject } = item\n            this.isRunning = true\n            try {\n                const result = await this.fn(...args)\n                resolve(result)\n            } catch (e) {\n                reject(e)\n            }\n            await this.wait()\n        }\n        this.isRunning = false\n    }\n\n    /**\n     * 执行一次fn\n     * @param args fn的入参\n     * @returns 返回fn的返回值的Promise\n     */\n    execute(...args: T) {\n        return new Promise<Awaited<U>>((resolve, reject) => {\n            this.queue.push({ args, resolve, reject })\n            this.run()\n            if (this.timeout) {\n                setTimeout(() => {\n                    reject(new Error('IntervalQueue timeout'))\n                }, this.timeout)\n            }\n        })\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-03-11 18:59:10\n * @LastEditTime: 2025-03-16 18:15:25\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/enums/language.ts\n */\n// 待补充...\nexport enum LanguageEnum {}\n\nexport enum OriginLangKeyEnum {\n    ZH = 'zh-cn',\n    EN = 'en',\n    JA = 'ja',\n    KO = 'ko',\n    RU = 'ru'\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-04-03 18:12:45\n * @LastEditTime: 2024-04-03 18:33:53\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/enums/translate.ts\n */\nexport enum TranslateApiEnum {\n    google = 'Google',\n    youdao = 'Youdao'\n}\n","/*\n * @Date: 2025-03-16 14:12:30\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-03-16 14:13:42\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/enums/option.ts\n */\n/**\n * 翻译类型枚举\n */\nexport enum TranslateTypeEnum {\n    FULL_AUTO = 'full-auto',\n    SEMI_AUTO = 'semi-auto'\n}\n","import { IntervalQueue } from './IntervalQueue'\n\nexport interface TranslatorOption {\n    /** Translator版本，用于做后续的功能迭代 */\n    version?: number\n    /**\n     * 实际的请求方法\n     * @param text 被翻译的文本\n     * @param fromKey 源语言\n     * @param toKey 目标语言\n     * @param separator 分隔符\n     * @returns 翻译后的文本\n     */\n    fetchMethod: (\n        text: string,\n        fromKey: string,\n        toKey: string,\n        separator: string\n    ) => Promise<string>\n    name: string\n    /** 单次最大翻译文本长度 */\n    maxChunkSize?: number\n    /** 执行间隔（默认不开启） */\n    interval?: number\n    /**\n     * 错误处理函数，主要是打印提示\n     * @param err 抛出的异常\n     * @param defaultErrorHandler 默认的错误处理函数\n     * @returns 如果在这里抛出异常会中断翻译\n     */\n    onError?: (err: unknown, defaultErrorHandler: (error: unknown) => void) => void\n}\n\nexport class Translator {\n    public option: Required<TranslatorOption>\n\n    constructor(option: TranslatorOption) {\n        this.option = this.getResultOption(option)\n    }\n\n    private defaultErrorHandler = (error: unknown) => {\n        const name = this.option.name\n        console.error(`翻译api${name ? `【${name}】` : ''}请求异常：${this.getErrorMessage(error)}`)\n    }\n\n    private getResultOption(option: TranslatorOption) {\n        const resultOption: Required<TranslatorOption> = {\n            version: 1,\n            maxChunkSize: 4500, // 目前默认是4500\n            interval: 0,\n            onError: this.defaultErrorHandler,\n            ...option\n        }\n        if (resultOption.interval) {\n            const getIntervalFn = <T extends unknown[], U extends unknown>(\n                fn: (...args: T) => U,\n                delay: number\n            ) => {\n                const queue = new IntervalQueue(fn.bind(null), delay)\n                return (...args: T) => {\n                    return queue.execute(...args)\n                }\n            }\n            resultOption.fetchMethod = getIntervalFn(\n                resultOption.fetchMethod,\n                resultOption.interval\n            )\n        }\n        return resultOption\n    }\n\n    protected getErrorMessage(error: unknown) {\n        if (error instanceof Error) {\n            return error.message\n        } else {\n            return String(error)\n        }\n    }\n\n    async translate(text: string, fromKey: string, toKey: string, separator: string) {\n        let result = ''\n        try {\n            result = await this.option.fetchMethod(text, fromKey, toKey, separator)\n        } catch (error) {\n            this.option.onError(error, this.defaultErrorHandler)\n        }\n        return result\n    }\n}\n","/*\n * @Date: 2025-03-11 17:53:11\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-03-14 14:21:06\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/translator/google.ts\n */\nimport { translate } from '@vitalets/google-translate-api'\nimport { Translator } from './translator'\nimport tunnel from 'tunnel'\n\nexport interface GoogleTranslatorOption {\n    proxyOption?: tunnel.ProxyOptions\n}\n\n/**\n * 谷歌翻译器\n * \n * 基于@vitalets/google-translate-api，需要翻墙，不稳定，但是免费\n * \n * 使用方式：\n * ```ts\n * vitePluginsAutoI18n({\n    ...\n    translator: translator: new GoogleTranslator({\n        proxyOption: {\n            // 如果你本地的代理在127.0.0.0:8899\n            host: '127.0.0.1',\n            port: 8899,\n            headers: {\n                'User-Agent': 'Node'\n            }\n        }\n    })\n})\n * ```\n */\nexport class GoogleTranslator extends Translator {\n    constructor(option: GoogleTranslatorOption) {\n        super({\n            name: 'Google翻译',\n            fetchMethod: async (text, fromKey, toKey) => {\n                let data = await translate(text, {\n                    from: fromKey,\n                    to: toKey,\n                    ...(option.proxyOption\n                        ? {\n                              fetchOptions: {\n                                  agent: tunnel.httpsOverHttp({\n                                      proxy: option.proxyOption\n                                  })\n                              }\n                          }\n                        : {})\n                })\n                return data['text'] || ''\n            },\n            onError: (error, cb) => {\n                cb(error)\n                if (error instanceof Object && 'code' in error && error.code === 'ETIMEDOUT') {\n                    console.error('❗ 请求超时，请确保你的网络可以访问google ❗')\n                }\n            }\n        })\n    }\n}\n","import axios, { AxiosProxyConfig } from 'axios'\nimport { Translator } from './translator'\nimport CryptoJS from 'crypto-js'\n\nexport interface YoudaoTranslatorOption {\n    appId: string\n    appKey: string\n    /** 网络代理配置 */\n    proxy?: AxiosProxyConfig\n    /** 翻译api执行间隔，默认为1000 */\n    interval?: number\n}\n\n/**\n * 有道翻译器\n * \n * api文档：https://ai.youdao.com/DOCSIRMA/html/trans/api/wbfy/index.html\n * \n * 使用方式：\n * ```ts\n * vitePluginsAutoI18n({\n    ...\n    translator: new YoudaoTranslator({\n        appId: '你申请的appId',\n        appKey: '你申请的appKey'\n    })\n})\n * ```\n */\nexport class YoudaoTranslator extends Translator {\n    /** 有道的语言类型映射不标准，需要手动控制 */\n    private readonly YOUDAO_TRANSLATE_KEY_CONVERT_MAP: Record<string, string> = {\n        'zh-cn': 'zh-CHS',\n        'zh-tw': 'zh-CHT'\n    }\n\n    private truncate(q: string) {\n        // 检查输入字符串的长度\n        if (q.length <= 20) {\n            // 如果长度小于等于20，直接返回原字符串\n            return q\n        } else {\n            // 如果长度大于20，截取前10个字符和后10个字符，并在中间插入长度信息\n            const len = q.length\n            return q.substring(0, 10) + len + q.substring(len - 10)\n        }\n    }\n\n    private getTranslateKey(key: string) {\n        return this.YOUDAO_TRANSLATE_KEY_CONVERT_MAP[key] || key\n    }\n\n    constructor(option: YoudaoTranslatorOption) {\n        super({\n            name: '有道翻译',\n            fetchMethod: async (text, fromKey, toKey) => {\n                let salt = new Date().getTime()\n                let curTime = Math.round(new Date().getTime() / 1000)\n                let str = option.appId + this.truncate(text) + salt + curTime + option.appKey\n                let sign = CryptoJS.SHA256(str).toString(CryptoJS.enc.Hex)\n\n                const data = {\n                    q: text,\n                    appKey: option.appId,\n                    salt,\n                    from: this.getTranslateKey(fromKey),\n                    to: this.getTranslateKey(toKey),\n                    sign,\n                    signType: 'v3',\n                    curtime: curTime\n                }\n                const response = await axios.post('https://openapi.youdao.com/api', data, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                    },\n                    proxy: option.proxy\n                })\n                // 请求成功，返回响应数据\n                return response.data.translation?.[0] || ''\n            },\n            onError: (error, cb) => {\n                cb(error)\n                console.error(\n                    '请前往有道翻译官方申请翻译key，默认会有50的额度，并请检查额度是否充足。'\n                )\n            },\n            interval: option.interval ?? 1000\n        })\n    }\n}\n","/*\n * @Date: 2025-03-16 23:39:13\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-03-17 01:11:37\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/translator/baidu.ts\n */\nimport axios, { AxiosProxyConfig } from 'axios'\nimport { Translator } from './translator'\nimport CryptoJS from 'crypto-js'\n\nexport interface BaiduTranslatorOption {\n    appId: string\n    appKey: string\n    /** 网络代理配置 */\n    proxy?: AxiosProxyConfig\n    /** 翻译api执行间隔，默认为1000 */\n    interval?: number\n}\n\n/**\n * 百度翻译器\n * \n * api文档：https://api.fanyi.baidu.com/product/113\n * \n * 使用方式：\n * ```ts\n * vitePluginsAutoI18n({\n    ...\n    translator: new BaiduTranslator({\n        appId: '你申请的appId',\n        appKey: '你申请的appKey'\n    })\n})\n * ```\n */\nexport class BaiduTranslator extends Translator {\n    /** 百度的语言类型映射不标准，需要手动控制 */\n    protected readonly BAIDU_TRANSLATE_KEY_CONVERT_MAP: Record<string, string> = {\n        'zh-cn': 'zh',\n        ja: 'jp',\n        ko: 'kor'\n    }\n\n    protected getTranslateKey(key: string) {\n        return this.BAIDU_TRANSLATE_KEY_CONVERT_MAP[key] || key\n    }\n\n    constructor(option: BaiduTranslatorOption) {\n        super({\n            name: '百度翻译',\n            fetchMethod: async (text, fromKey, toKey, separator) => {\n                let salt = new Date().getTime()\n\n                const data = {\n                    q: text,\n                    appid: option.appId,\n                    from: this.getTranslateKey(fromKey),\n                    to: this.getTranslateKey(toKey),\n                    salt,\n                    sign: CryptoJS.MD5(option.appId + text + salt + option.appKey).toString()\n                }\n                const response = await axios.post(\n                    'https://fanyi-api.baidu.com/api/trans/vip/translate',\n                    data,\n                    {\n                        headers: {\n                            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                        },\n                        proxy: option.proxy\n                    }\n                )\n\n                const translatedTexts = response.data?.trans_result\n                    .map((item: any) => item.dst)\n                    .filter((_item: string, index: number) => index % 2 === 0)\n                    .join(separator)\n\n                // 请求成功，返回响应数据\n                return translatedTexts || ''\n            },\n            onError: (error, cb) => {\n                cb(error)\n                console.error(\n                    '请前往百度翻译官方申请翻译key，每个月都有免费额度，并请检查额度是否充足。'\n                )\n            },\n            interval: option.interval ?? 1000\n        })\n    }\n}\n","/*\n * @Date: 2025-03-31 19:05:57\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-03-31 19:52:10\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/translator/scan.ts\n */\nimport { Translator, TranslatorOption } from './translator'\n\n/**\n * 空翻译器，不翻译文本，用于配合某些特殊的操作\n */\nexport class EmptyTranslator extends Translator {\n    constructor(option: Partial<TranslatorOption> = {}) {\n        const resultOption: TranslatorOption = {\n            name: '空翻译器',\n            fetchMethod: async (text, _from, _to, separator) => {\n                // 相当于把翻译结果统一设置为空串\n                const value = text.split(separator).fill('')\n                return value.join(separator)\n            },\n            ...option\n        }\n        super(resultOption)\n    }\n    // TODO: 后续可以作为基类，提供更多的配置选项\n}\n\n/** @deprecated 别名导出，兼容旧版本 */\nexport const ScanTranslator = EmptyTranslator\n","// 代码灵感来自https://github.com/dadidi9900/auto-plugins-json-translate/blob/main/src/services/translationService.ts\nimport axios, { AxiosProxyConfig } from 'axios'\nimport { Translator } from './translator'\n\nexport interface VolcengineTranslatorOption {\n    apiKey: string\n    /** 使用的ai模型，可选值请参阅火山引擎控制台的模型列表，如`doubao-1-5-pro-32k-250115`，并请确保使用前已在控制台开通了对应模型 */\n    model: string\n    /** 对本项目的简短描述，在有描述的情况下大模型的翻译结果可能会更加准确 */\n    desc?: string\n    /** 网络代理配置 */\n    proxy?: AxiosProxyConfig\n    /** 翻译api执行间隔，默认为1000 */\n    interval?: number\n}\n\n/**\n * 火山引擎翻译器，内置豆包、deepseek等模型\n * \n * 火山引擎大模型介绍：https://www.volcengine.com/docs/82379/1099455\n * \n * api文档：https://www.volcengine.com/docs/82379/1298454\n * \n * 使用方式：\n * ```ts\n * vitePluginsAutoI18n({\n    ...\n    translator: new VolcengineTranslator({\n        apiKey: '你申请的apiKey',\n        model: '你要调用的模型，如：`doubao-1-5-pro-32k-250115`，请确保使用前已在控制台开通了对应模型'\n    })\n})\n * ```\n */\nexport class VolcengineTranslator extends Translator {\n    constructor(option: VolcengineTranslatorOption) {\n        super({\n            name: '火山引擎ai翻译',\n            fetchMethod: async (text, fromKey, toKey, separator) => {\n                let salt = new Date().getTime()\n                const textArr = text.split(separator)\n                const data = {\n                    model: option.model,\n                    messages: [\n                        {\n                            role: 'system',\n                            content: `首先，你是一个专业的翻译助手。有一个web项目，${option.desc ? `它的开发者是这么描述它的：${option.desc}。` : ''}现在我将这个项目中所使用的web抽成一个文本数组。你需要请将数组的每个成员从原语言${fromKey}翻译成目标语言${toKey}，并直接返回翻译后的文本数组，不要包含任何解释。`\n                        },\n                        { role: 'user', content: JSON.stringify(textArr) }\n                    ]\n                }\n                const response = await axios.post(\n                    `https://ark.cn-beijing.volces.com/api/v3/chat/completions?t=${salt}`,\n                    data,\n                    {\n                        headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: `Bearer ${option.apiKey}`\n                        },\n                        proxy: option.proxy\n                    }\n                )\n                try {\n                    return (JSON.parse(response.data.choices[0].message.content) as string[]).join(\n                        separator\n                    )\n                } catch (error) {\n                    console.error('🚀 ~ VolcengineTranslator ~ fetchMethod: ~ error:', error)\n                    return text\n                }\n            },\n            onError: (error, cb) => {\n                cb(error)\n                console.error(\n                    '请确保在火山引擎控制台开通了对应模型，且有足够的token余额。控制台地址：https://console.volcengine.com/ark/'\n                )\n            },\n            maxChunkSize: 10000,\n            interval: option.interval ?? 1000\n        })\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-02-29 14:44:18\n * @LastEditTime: 2024-03-01 11:42:34\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/utils/option.ts\n */\nimport { FunctionFactoryOptions } from '../types'\n\nexport class FunctionFactoryOption {\n    static originLang: string = ''\n}\n\nexport const functionFactory = (\n    fn: (path: string, options: FunctionFactoryOptions) => void,\n    options: FunctionFactoryOptions\n) => {\n    return (path: any) => {\n        fn(path, options)\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-04-06 15:47:14\n * @LastEditTime: 2025-03-16 18:18:28\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/constants/translate.ts\n */\nimport { OriginLangKeyEnum } from 'src/enums/language'\n\nexport const REGEX_MAP = {\n    [OriginLangKeyEnum.ZH]: /[\\u4e00-\\u9fff]/,\n    [OriginLangKeyEnum.EN]: /[a-zA-Z]/,\n    [OriginLangKeyEnum.JA]: /[\\u3040-\\u309F\\u30A0-\\u30FF\\u4E00-\\u9FFF]/, // 日语假名和汉字\n    [OriginLangKeyEnum.KO]: /[\\uAC00-\\uD7A3]/, // 韩语字母\n    [OriginLangKeyEnum.RU]: /[йцукенгшщзхъфывапролджэячсмитьбюё .-]{1,}/ // 俄语字母\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-11 10:01:43\n * @LastEditTime: 2025-03-28 19:07:17\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/base.ts\n */\nimport { FunctionFactoryOption } from './option'\nimport { OriginLangKeyEnum } from 'src/enums'\nimport { REGEX_MAP } from 'src/constants'\n// import generate from '@babel/generator'\nimport { Node } from '@babel/types'\nimport { option } from '../option'\nimport types from '@babel/types'\n\nexport function getOriginRegex() {\n    const originLang = FunctionFactoryOption.originLang as OriginLangKeyEnum\n    return REGEX_MAP[originLang]\n}\n\n/**\n * @description: 是否包含来源语言字符\n * @param {string} code\n * @return {*}\n */\nexport function hasOriginSymbols(code: string) {\n    return getOriginRegex().test(code)\n}\n\n/**\n * @description: 过滤注释\n * @param {string} code\n * @return {*}\n */\nexport const removeComments = function (code: string) {\n    // 使用正则表达式匹配并删除单行注释\n    code = code.replace(/\\/\\/.*?\\n/g, '')\n    // 使用正则表达式匹配并删除多行注释\n    code = code.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '')\n    // 使用正则表达式匹配并删除HTML注释\n    code = code.replace(/<!--[\\s\\S]*?-->/g, '')\n    return code\n}\n\n/**\n * @description: 用于判断提供的值是否符合正则表达式数组中的任一规则，符合则跳过\n * @param {*} value\n * @param {*} regexArray\n * @return {*}\n */\nexport function checkAgainstRegexArray(value: string, regexArray: string[] | RegExp[]) {\n    for (let i = 0; i < regexArray.length; i++) {\n        const regex = typeof regexArray[i] === 'string' ? new RegExp(regexArray[i]) : regexArray[i]\n        if ((regex as RegExp).test(value)) {\n            return true // 如果符合任何一个规则，返回 true\n        }\n    }\n    return false // 如果所有规则都不符合，返回 false\n}\n\n/**\n * @description: 用于解析抽象语法树中的调用表达式，并提取出调用的名称，如a.b.c() 取 c。\n * @param {any} node\n * @return {*}\n */\nexport function extractFunctionName(node: Node): string {\n    let callName = ''\n    function callObjName(callObj: any, name: string): string {\n        name += '.' + (callObj.property as any).name\n        if (types.isMemberExpression(callObj.object)) {\n            // isMemberExpression： 是否是成员表达式\n            return callObjName(callObj.object, name)\n        }\n        name = (callObj.object as any).name + name\n        return name\n    }\n    if (types.isCallExpression(node)) {\n        // isCallExpression： 是否是调用表达式\n        if (types.isMemberExpression((node as any).callee)) {\n            callName = callObjName((node as any).callee, '')\n        } else {\n            callName = ((node as any).callee as any).name || ''\n        }\n    }\n    return callName\n}\n\n/**\n * @description: 提取文件的中文部分\n * @param {string} fileContent\n * @return {*}\n */\nexport const extractCnStrings = (fileContent: string) => {\n    const regex = /[^\\x00-\\xff]+/g\n    return extractStrings(fileContent, regex)\n}\n\n/**\n * @description: 提取文件指定部分内容\n * @param {string} fileContent\n * @param {any} regex\n * @return {*}\n */\nexport function extractStrings(fileContent: string, regex: any) {\n    const matches = fileContent.match(regex)\n    return matches ? matches.filter((item, index) => matches.indexOf(item) === index) : []\n}\n\n/**\n * @description: 生成i8n翻译函数\n * @param {string} value\n * @param {boolean} isExpression\n * @param {string} key\n * @return {*}\n */\nexport function createI18nTranslator(createOption: {\n    value: string\n    isExpression?: boolean\n    key?: string\n    insertOption?: any\n}): any {\n    const { value, isExpression = false, key, insertOption } = createOption\n\n    // 从全局配置对象 option 中获取命名空间\n    const nameSpace = option.namespace\n    // 去除 value 字符串首尾的空白字符\n    const trimmedValue = value.trim()\n    // 将去除空白后的字符串中的单引号替换为双引号，并将换行符替换为转义字符 \\n\n    const valStr = trimmedValue.replace(/'/g, '\"').replace(/(\\n)/g, '\\\\n')\n    // 若 key 存在则使用 key，否则调用 generateId 函数根据 valStr 生成唯一的键\n    const generatedKey = key || generateId(valStr)\n    // 提取公共配置对象，避免重复代码\n    const config = {\n        option: option,\n        hash: generatedKey,\n        value: trimmedValue,\n        uncodeValue: valStr,\n        namespace: nameSpace\n    }\n    if (option.translateExtends) {\n        const { handleCodeCall, handleCodeString } = option.translateExtends\n        return isExpression\n            ? handleCodeCall(config, insertOption)\n            : handleCodeString(config, insertOption)\n    }\n\n    if (isExpression) {\n        const valueExp = types.stringLiteral(trimmedValue)\n        valueExp.extra = {\n            raw: `'${valStr}'`, // 防止转码为unicode\n            rawValue: trimmedValue\n        }\n        return types.callExpression(types.identifier(option.translateKey), [\n            types.stringLiteral(generatedKey),\n            valueExp,\n            types.stringLiteral(nameSpace)\n        ])\n    }\n\n    return `${option.translateKey}('${generatedKey}','${valStr}','${nameSpace}')`\n}\n\n/**\n * @description: 生成唯一id\n * @param {string} key\n * @return {*}\n */\nexport function generateId(key: string) {\n    let hash = 0\n    for (let i = 0; i < key.length; i++) {\n        const charCode = key.charCodeAt(i)\n        hash = (hash << 5) - hash + charCode\n        hash = hash & hash\n    }\n    const id = Math.abs(hash).toString(36) + key.length.toString(36)\n    return id\n}\n\n/**\n * @description: unicode转普通字符串\n * @param {string} str\n * @return {*}\n */\nexport const unicodeToString = (str: string) => {\n    return str.replace(/\\\\u[\\dA-Fa-f]{4}/g, (match: any) => {\n        return String.fromCharCode(parseInt(match.replace(/\\\\u/g, ''), 16))\n    })\n}\n\n/**\n * @description: 有道翻译 标识截取\n * @param {string} q\n * @return {*}\n */\nexport function truncate(q: string) {\n    // 检查输入字符串的长度\n    if (q.length <= 20) {\n        // 如果长度小于等于20，直接返回原字符串\n        return q\n    } else {\n        // 如果长度大于20，截取前10个字符和后10个字符，并在中间插入长度信息\n        const len = q.length\n        return q.substring(0, 10) + len + q.substring(len - 10)\n    }\n}\n\n// 导出一个深拷贝函数，用于克隆对象\nexport function cloneDeep<T>(value: T, cache: WeakMap<object, any> = new WeakMap()): T {\n    // 处理基本类型和 null\n    if (typeof value !== 'object' || value === null) {\n        return value\n    }\n\n    // 处理循环引用\n    if (cache.has(value)) {\n        return cache.get(value)\n    }\n\n    // 处理特殊对象类型\n    if (value instanceof Date) {\n        return new Date(value) as T\n    }\n\n    if (value instanceof RegExp) {\n        return new RegExp(value.source, value.flags) as T\n    }\n\n    // 初始化克隆容器\n    const clone: any = Array.isArray(value) ? [] : {}\n\n    // 缓存对象防止循环引用\n    cache.set(value, clone)\n\n    // 处理 Symbol 和普通键的枚举\n    const keys = [\n        ...Object.keys(value),\n        ...Object.getOwnPropertySymbols(value).filter(sym => value.propertyIsEnumerable(sym))\n    ]\n\n    // 递归克隆属性\n    for (const key of keys) {\n        clone[key] = cloneDeep((value as any)[key], cache)\n    }\n\n    return clone as T\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-26 17:34:47\n * @LastEditTime: 2025-03-31 19:58:37\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/option.ts\n */\n\nimport { GoogleTranslator, Translator, TranslatorOption } from './translators'\nimport { OriginLangKeyEnum, TranslateTypeEnum } from './enums'\nimport { BaseExtendsType } from './extends'\nimport { cloneDeep } from './utils/base'\n\nconst EXCLUDED_CALL = [\n    '$deepScan',\n    'console.info',\n    'console.warn',\n    'console.error',\n    '$i8n',\n    'console.log',\n    '$t',\n    'require',\n    '$$i8n',\n    '$$t',\n    '_createCommentVNode'\n]\n/**\n * 默认插件配置选项\n */\nconst DEFAULT_OPTION = {\n    /** 翻译调用函数，默认为 $t */\n    translateKey: '$t',\n\n    /** 标记不翻译调用函数列表，避免某些调用被错误翻译 */\n    excludedCall: [] as string[],\n\n    /** 标记不用翻译的字符串模式数组，默认是匹配文件扩展名 */\n    excludedPattern: [/\\.\\w+$/],\n\n    /** 排查不需要翻译的目录下的文件路径（黑名单）, 默认不处理node_modules */\n    excludedPath: ['node_modules'] as string[],\n\n    /** 指定需要翻译文件的目录路径正则（白名单） */\n    includePath: [/src\\//, /src\\\\/],\n\n    /** 配置文件生成位置，默认为 './lang' */\n    globalPath: './lang',\n\n    /** 打包后生成文件的位置，例如 './dist/assets' */\n    distPath: '',\n\n    /** 打包后生成文件的主文件名称，默认是 'index' */\n    distKey: 'index',\n\n    /** 来源语言，默认是中文 */\n    originLang: OriginLangKeyEnum.ZH as OriginLangKeyEnum | string,\n\n    /** 翻译目标语言列表，默认包含英文 */\n    targetLangList: ['en'],\n\n    /** 语言key，用于请求谷歌api和生成配置文件下对应语言的内容文件 */\n    langKey: [] as string[],\n\n    /** 命名空间，防止全局命名冲突 */\n    namespace: 'lang',\n\n    /** 是否在构建结束之后将最新的翻译重新打包到主包中，默认不打包 */\n    buildToDist: false,\n\n    /** 默认使用 Google 翻译器 */\n    translator: new GoogleTranslator({\n        proxyOption: {\n            port: 7890,\n            host: '127.0.0.1',\n            headers: {\n                'User-Agent': 'Node'\n            }\n        }\n    }) as Translator,\n\n    /** 翻译器配置选项，优先级低于translator */\n    translatorOption: undefined as TranslatorOption | undefined,\n\n    /**\n     * 翻译类型，支持全自动和半自动两种模式\n     * 全自动：所有翻译任务自动完成\n     * 半自动：需要人工标识\n     */\n    translateType: TranslateTypeEnum.FULL_AUTO as TranslateTypeEnum | string,\n\n    /**\n     * 是否重写配置文件，默认为true\n     */\n    rewriteConfig: true,\n\n    /**\n     * 通用翻译key，默认使用namespace，如果commonTranslateKey不为空，则使用commonTranslateKey\n     */\n    commonTranslateKey: '',\n\n    /**\n     * 实验性属性，表示是否进行深层扫描字符串，默认为 false\n     * 当设置为 true 时，会对代码中的字符串进行更深入的扫描\n     */\n    deepScan: false,\n\n    /**\n     * 自定义文件拓展名数组\n     */\n    insertFileExtensions: [] as string[],\n\n    /**\n     * 自定义拓展类，插件默认翻译函数挂载在window上，如果希望自定义翻译函数挂载在其他对象上，可以使用该属性\n     * 注意：该属性需要继承BaseExtends类，并且需要实现handleInitFile和handleCodeCall和handleCodeString方法\n     */\n    translateExtends: null as BaseExtendsType | null\n}\n\n/**\n * 类型定义：插件配置选项类型\n */\ntype OptionType = typeof DEFAULT_OPTION\n\n/**\n * 全局插件配置实例，复制自默认配置\n */\nexport let option: OptionType = { ...DEFAULT_OPTION }\n\n/**\n * 类型定义：用户传入的配置选项\n */\nexport interface OptionInfo extends Partial<OptionType> {}\n\n/**\n * 通过深度克隆提供的选项信息生成一个用户选项对象，\n * 确保原始配置不被修改。它还根据用户的配置初始化翻译器。\n * @param optionInfo - 包含用户选项和翻译器细节的选项信息。\n * @returns 一个新的、可能已初始化翻译器的用户选项对象。\n */\nfunction generateUserOption(optionInfo: OptionInfo) {\n    // 深拷贝用户传入的配置，防止修改原配置对象\n    const userOption = cloneDeep(optionInfo)\n    userOption.translator = optionInfo?.translator\n\n    // 如果用户配置了translatorOption则初始化translator，如果都没有则不设置translator\n    userOption.translator ||= userOption.translatorOption\n        ? new Translator(userOption.translatorOption)\n        : undefined\n    if (!userOption.translator) delete userOption.translator\n    return userOption\n}\n\n/**\n * 初始化插件配置选项\n * @param optionInfo 用户提供的配置选项\n */\nexport function initOption(optionInfo: OptionInfo) {\n    // 合并默认配置和用户配置\n    option = { ...DEFAULT_OPTION, ...generateUserOption(optionInfo) }\n\n    // 初始化语言key数组，包含来源语言和目标语言\n    option.langKey = [option.originLang, ...option.targetLangList]\n    // 初始化排除调用函数列表，包含默认排除和调用函数主动排除\n    option.excludedCall = [\n        ...option.excludedCall,\n        ...EXCLUDED_CALL,\n        ...[option.translateKey, '$' + option.translateKey]\n    ]\n}\n\n/**\n * 校验插件配置选项是否完整有效\n * @returns {boolean} 校验结果，完整返回 true，否则返回 false\n */\nexport function checkOption() {\n    // 校验翻译调用函数是否配置\n    if (!option.translateKey) {\n        console.error('❌请配置翻译调用函数')\n        return false\n    }\n\n    // 校验命名空间是否配置\n    if (!option.namespace) {\n        console.error('❌请配置命名空间')\n        return false\n    }\n\n    // 校验是否配置了打包后生成文件的主文件名称（如果需要打包到主包中）\n    if (option.buildToDist && !option.distKey) {\n        console.log('❌请配置打包后生成文件的主文件名称')\n        return false\n    }\n\n    // 校验是否配置了打包后生成文件的位置（如果需要打包到主包中）\n    if (option.buildToDist && !option.distPath) {\n        console.log('❌请配置打包后生成文件的位置')\n        return false\n    }\n\n    // 校验来源语言是否配置\n    if (!option.originLang) {\n        console.error('❌请配置来源语言')\n        return false\n    }\n\n    // 校验目标翻译语言数组是否配置\n    if (!option.targetLangList || !option.targetLangList.length) {\n        console.error('❌请配置目标翻译语言数组')\n        return false\n    }\n\n    // 如果所有校验通过，返回 true\n    return true\n}\n","import types from '@babel/types'\nimport { OptionInfo } from 'src'\nimport babel from '@babel/core'\nexport class Vue2Extends {\n    public handleInitFile: any\n    public handleCodeCall: any\n    public handleCodeString: any\n    constructor() {\n        this.handleInitFile = async (source: string, path: string) => {\n            let code = source\n\n            // 检查是否已经引入了 Vue\n            let importVue = false\n            let hasVue = false\n            let importDefaultChar = 'Vue'\n\n            const result = await babel.transformAsync(code, {\n                configFile: false,\n                plugins: [\n                    {\n                        visitor: {\n                            ImportDeclaration(path: any) {\n                                const { node } = path\n                                if (node.source.value === 'vue') {\n                                    importVue = true\n                                    const specifiers = node.specifiers\n                                    specifiers.forEach((specifier: any) => {\n                                        if (types.isImportDefaultSpecifier(specifier)) {\n                                            hasVue = true\n                                            importDefaultChar = specifier.local.name\n                                        }\n                                    })\n                                    if (!hasVue) {\n                                        hasVue = true\n                                        specifiers.unshift(\n                                            types.importDefaultSpecifier(types.identifier('Vue'))\n                                        )\n                                    }\n                                }\n                            }\n                        }\n                    }\n                ]\n            })\n            if (importVue && result) code = result.code as string\n            if (!importVue)\n                code = `import Vue from 'vue'\n                                    ${code}`\n\n            return {\n                path,\n                importDefaultChar,\n                source: code\n            }\n        }\n        this.handleCodeCall = (\n            config: {\n                option: OptionInfo\n                hash: string\n                value: string\n                uncodeValue: string\n                namespace: string\n            },\n            _initFileResult: ReturnType<this['handleInitFile']>\n        ) => {\n            const { option, hash, value, uncodeValue, namespace } = config\n            const valueExp = types.stringLiteral(value)\n            valueExp.extra = {\n                raw: `'${uncodeValue}'`, // 防止转码为unicode\n                rawValue: value\n            }\n            return types.callExpression(\n                types.memberExpression(\n                    types.memberExpression(\n                        types.identifier(_initFileResult.importDefaultChar),\n                        types.identifier('prototype')\n                    ),\n                    types.identifier(option.translateKey as string)\n                ),\n                [types.stringLiteral(hash), valueExp, types.stringLiteral(namespace)]\n            )\n        }\n        this.handleCodeString = (\n            config: {\n                option: OptionInfo\n                hash: string\n                value: string\n                uncodeValue: string\n                namespace: string\n            },\n            _initFileResult: ReturnType<this['handleInitFile']>\n        ): string => {\n            const { option, hash, uncodeValue, namespace } = config\n            return `${_initFileResult.importDefaultChar}.prototype.${option.translateKey}('${hash}','${uncodeValue}','${namespace}')`\n        }\n    }\n}\n","/**\n * JSON 格式化配置类型\n */\ntype IndentType = 'tab' | 'space'\n\ninterface IndentConfig {\n    tab: { char: string; size: number }\n    space: { char: string; size: number }\n}\n\ninterface JSONFormatConfig {\n    type: IndentType\n    size?: number\n}\n\n// 默认的缩进配置\nconst indentConfig: IndentConfig = {\n    tab: { char: '\\t', size: 1 },\n    space: { char: ' ', size: 4 }\n}\n\n// 默认格式化配置\nconst configDefault: JSONFormatConfig = {\n    type: 'tab'\n}\n\n// 临时存储替换字符串的数组\nlet placeholderStorage: string[] = []\n\n// 临时存储处理函数\nconst pushPlaceholder = (match: string): string => `\\\\${placeholderStorage.push(match)}\\\\`\nconst popPlaceholder = (_match: string, index: string): string => placeholderStorage[+index - 1]\n\n// 生成缩进字符\nconst generateIndentation = (count: number, indentType: string): string => {\n    return new Array(count + 1).join(indentType)\n}\n\n/**\n * 格式化 JSON 字符串\n * @param json JSON 字符串\n * @param indentType 缩进类型\n * @returns 格式化的 JSON 字符串\n */\nfunction formatJSON(json: string, indentType: string): string {\n    placeholderStorage = []\n    let output = ''\n    let indentLevel = 0\n\n    // 提取反斜杠和字符串\n    json = json\n        .replace(/\\\\./g, pushPlaceholder) // 处理反斜杠\n        .replace(/(\".*?\"|'.*?')/g, pushPlaceholder) // 处理字符串\n        .replace(/\\s+/g, '') // 去除多余空格\n\n    // 根据 JSON 内容添加换行和缩进\n    for (let i = 0; i < json.length; i++) {\n        const char = json.charAt(i)\n\n        switch (char) {\n            case '{':\n            case '[':\n                output += char + '\\n' + generateIndentation(++indentLevel, indentType)\n                break\n            case '}':\n            case ']':\n                output += '\\n' + generateIndentation(--indentLevel, indentType) + char\n                break\n            case ',':\n                output += ',\\n' + generateIndentation(indentLevel, indentType)\n                break\n            case ':':\n                output += ': '\n                break\n            default:\n                output += char\n                break\n        }\n    }\n\n    // 去除数字数组的空格，并还原反斜杠和字符串\n    output = output\n        .replace(/\\[[\\d,\\s]+?\\]/g, match => match.replace(/\\s/g, ''))\n        .replace(/\\\\(\\d+)\\\\/g, popPlaceholder) // 还原填充数据\n        .replace(/\\\\(\\d+)\\\\/g, popPlaceholder) // 再次还原填充数据\n\n    return output\n}\n\n/**\n * 格式化 JSON 的主函数\n * @param json 需要格式化的 JSON 对象或字符串\n * @param config 配置选项\n * @returns 格式化后的 JSON 字符串\n */\nexport function jsonFormatter(\n    json: object | string,\n    config: JSONFormatConfig = configDefault\n): string {\n    // 确保输入是 JSON 字符串\n    const jsonString = typeof json === 'string' ? json : JSON.stringify(json)\n\n    // 获取缩进配置\n    const indent = indentConfig[config.type]\n    if (!indent) {\n        throw new Error(`Unrecognized indent type: \"${config.type}\"`)\n    }\n\n    // 生成缩进字符\n    const indentType = generateIndentation(config.size || indent.size, indent.char)\n\n    // 格式化 JSON 字符串\n    return formatJSON(jsonString, indentType)\n}\n","/*\n * @Date: 2025-02-14 10:48:41\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-03-31 02:15:23\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/file.ts\n */\nimport { jsonFormatter } from './json'\nimport { generateId } from './base'\nimport { option } from '../option'\nimport path from 'path'\nimport fs from 'fs'\n\n/**\n * @description: 新建国际化配置文件夹\n * @return {*}\n */\nexport function initLangFile() {\n    if (!fs.existsSync(option.globalPath)) {\n        fs.mkdirSync(option.globalPath) // 创建lang文件夹\n    }\n    initLangTranslateJSONFile()\n    initTranslateBasicFnFile()\n}\n/**\n * @description: 初始化翻译基础函数文件\n * @returns {void}\n */\nexport function initTranslateBasicFnFile() {\n    // 从配置选项中获取必要的配置信息\n    const { translateKey, namespace, originLang, targetLangList, commonTranslateKey } = option\n    // 生成语言映射列表\n    const langMapList = [...targetLangList, originLang]\n        // 去除语言代码中的连字符\n        .map(item => {\n            return [item.replace('-', ''), item]\n        })\n        // 构建语言映射项\n        .map(item => {\n            return `'${item[0]}': (globalThis && globalThis.${namespace} && globalThis.${namespace}.${item[0]}) ? globalThis.${namespace}.${item[0]} : globalThis._getJSONKey('${item[1]}', langJSON)`\n        })\n        // 用逗号和换行符连接所有映射项\n        .join(',\\n')\n    // 构建翻译基础函数的文本内容\n    const translateBasicFnText = `\n    // 导入国际化JSON文件\n    import langJSON from './index.json'\n    (function () {\n    // 定义翻译函数\n    let ${translateKey} = function (key, val, nameSpace) {\n      // 获取指定命名空间下的语言包\n      const langPackage = ${translateKey}[nameSpace];\n      // 返回翻译结果，如果不存在则返回默认值\n      return (langPackage || {})[key] || val;\n    };\n    // 定义简单翻译函数，直接返回传入的值\n    let $${translateKey} = function (val) {\n      return val;\n    };\n    globalThis.$deepScan = function (val) {\n      return val;\n    };\n    // 定义设置语言包的方法\n    ${translateKey}.locale = function (locale, nameSpace) {\n      // 将指定命名空间下的语言包设置为传入的locale\n      ${translateKey}[nameSpace] = locale || {};\n    };\n    // 将翻译函数挂载到globalThis对象上，如果已经存在则使用已有的\n    globalThis.${translateKey} = globalThis.${translateKey} || ${translateKey};\n    // 将简单翻译函数挂载到globalThis对象上\n    globalThis.$${translateKey} = $${translateKey};\n    // 定义从JSON文件中获取指定键的语言对象的方法\n    globalThis._getJSONKey = function (key, insertJSONObj = undefined) {\n        // 获取JSON对象\n        const JSONObj = insertJSONObj;\n        // 初始化语言对象\n        const langObj = {};\n        // 遍历JSON对象的所有键\n        Object.keys(JSONObj).forEach((value) => {\n            // 将每个语言的对应键值添加到语言对象中\n            langObj[value] = JSONObj[value][key];\n        });\n        // 返回语言对象\n        return langObj;\n    };\n    })();\n    // 定义语言映射对象\n    const langMap = {\n        ${langMapList}\n    };\n    // 存储语言是否存在\n    // 判断 globalThis.localStorage.getItem 是否为函数\n    const isFunction = (fn) => {\n        return typeof fn === 'function';\n    };\n    const withStorageLang = isFunction && globalThis && globalThis.localStorage && \n    isFunction(globalThis.localStorage.getItem) && globalThis.localStorage.getItem('${namespace}');\n    const withStorageCommonLang = isFunction && globalThis && globalThis.localStorage && \n    isFunction(globalThis.localStorage.getItem) && globalThis.localStorage.getItem('${commonTranslateKey}');\n    // 从本地存储中获取通用语言，如果不存在则使用空字符串\n    const commonLang = withStorageCommonLang ? globalThis.localStorage.getItem('${commonTranslateKey}') : '';\n    // 从本地存储中获取当前语言，如果不存在则使用源语言\n    const baseLang = withStorageLang ? globalThis.localStorage.getItem('${namespace}') : '${originLang.replace('-', '')}';\n    const lang = commonLang ? commonLang : baseLang;\n    // 根据当前语言设置翻译函数的语言包\n    globalThis.${translateKey}.locale(langMap[lang], '${namespace}');\n  `\n    // 构建翻译基础函数文件的路径\n    const indexPath = path.join(option.globalPath, 'index.js')\n\n    // 文件已存在 同时 不重写配置，那么这里就结束\n    if (fs.existsSync(indexPath) && !option.rewriteConfig) return\n\n    // 新增哈希比对逻辑\n\n    // 标记是否需要更新文件\n    let needUpdate = true\n    if (fs.existsSync(indexPath)) {\n        // 检查文件是否已存在\n        // 生成新内容的哈希值\n        const currentHash = generateId(translateBasicFnText)\n        // 读取现有文件内容\n        const existingContent = fs.readFileSync(indexPath, 'utf-8')\n        // 生成现有内容的哈希值\n        const existingHash = generateId(existingContent)\n        // 判断是否需要更新文件\n        needUpdate = currentHash !== existingHash\n    }\n\n    // 如果需要更新文件，则写入新内容\n    if (needUpdate) {\n        fs.writeFileSync(indexPath, translateBasicFnText)\n    }\n}\n/**\n * @description: 生成国际化JSON文件\n * @return {*}\n */\nexport function initLangTranslateJSONFile() {\n    const indexPath = path.join(option.globalPath, 'index.json')\n    if (!fs.existsSync(indexPath)) {\n        // 不存在就创建\n        fs.writeFileSync(indexPath, JSON.stringify({})) // 创建\n    }\n}\n\n/**\n * @description: 读取国际化JSON文件\n * @return {*}\n */\nexport function getLangTranslateJSONFile() {\n    const filePath = path.join(option.globalPath, 'index.json')\n    try {\n        const content = fs.readFileSync(filePath, 'utf-8')\n        return content\n    } catch (error: any) {\n        if (error.code === 'ENOENT') {\n            console.log('❌读取JSON配置文件异常，文件不存在')\n        } else {\n            console.log('❌读取JSON配置文件异常，无法读取文件')\n        }\n        return JSON.stringify({})\n    }\n}\n\n/**\n * @description: 基于langKey获取JSON配置文件中对应语言对象\n * @param {string} key\n * @return {*}\n */\nexport function getLangObjByJSONFileWithLangKey(\n    key: string,\n    insertJSONObj: object | undefined = undefined\n) {\n    const JSONObj = insertJSONObj || JSON.parse(getLangTranslateJSONFile())\n    const langObj: any = {}\n    Object.keys(JSONObj).forEach(value => {\n        langObj[value] = JSONObj[value][key]\n    })\n    return langObj\n}\n\n/**\n * @description: 设置国际化JSON文件\n * @return {*}\n */\nexport function setLangTranslateJSONFile(obj: object) {\n    const filePath = path.join(option.globalPath, 'index.json')\n    const jsonObj = jsonFormatter(obj)\n    if (fs.existsSync(filePath)) {\n        fs.writeFileSync(filePath, jsonObj)\n    } else {\n        console.log('❌JSON配置文件写入异常，文件不存在')\n    }\n}\n\n/**\n * @description: 构建时把lang配置文件设置到打包后到主文件中\n * @return {*}\n */\nexport function buildSetLangConfigToIndexFile() {\n    if (!option.buildToDist) return\n    let langObjMap: any = {}\n    option.langKey.forEach(item => {\n        langObjMap[item] = getLangObjByJSONFileWithLangKey(item)\n    })\n    if (fs.existsSync(option.distPath)) {\n        fs.readdir(option.distPath, (err, files) => {\n            if (err) {\n                console.error('❌构建文件夹为空，翻译配置无法写入')\n                return\n            }\n\n            files.forEach(file => {\n                if (file.startsWith(option.distKey) && file.endsWith('.js')) {\n                    const filePath = path.join(option.distPath, file)\n                    fs.readFile(filePath, 'utf-8', (err, data) => {\n                        if (err) {\n                            console.log(filePath)\n                            console.error('❌构建主文件不存在，翻译配置无法写入')\n                            return\n                        }\n                        let buildLangConfigString = ''\n                        Object.keys(langObjMap).forEach(item => {\n                            buildLangConfigString =\n                                buildLangConfigString +\n                                `globalThis['${option.namespace}']['${item}']=${JSON.stringify(langObjMap[item])};`\n                        })\n                        try {\n                            // 翻译配置写入主文件\n                            fs.writeFileSync(\n                                filePath,\n                                `globalThis['${option.namespace}']={};${buildLangConfigString}` +\n                                    data\n                            )\n                            console.info('恭喜：翻译配置写入构建主文件成功🌟🌟🌟')\n                        } catch (err) {\n                            console.error('翻译配置写入构建主文件失败:', err)\n                        }\n                    })\n                }\n            })\n        })\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-30 18:23:03\n * @LastEditTime: 2025-03-16 19:12:54\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/translate.ts\n */\n\nimport { option } from 'src/option'\nimport * as fileUtils from './file'\nimport { chunkUtils } from '.'\n\nexport const SEPARATOR = '\\n┇┇┇\\n'\nexport const SPLIT_SEPARATOR_REGEX = /\\n┇ *┇ *┇\\n/\n\ntype langObj = { [key: string]: string }\n\nexport let langObj: langObj = {}\n\n/**\n * @description: 设置翻译对象属性\n * @param {string} key\n * @param {string} value\n * @return {*}\n */\nexport function setLangObj(key: string, value: string) {\n    if (!langObj[key]) {\n        langObj[key] = value\n    }\n}\n\n/**\n * @description: 读取翻译对象\n * @return {*}\n */\nexport function getLangObj() {\n    return langObj\n}\n\n/**\n * @description: 初始化翻译对象\n * @param {langObj} obj\n * @return {*}\n */\nexport function initLangObj(obj: langObj) {\n    if (!Object.keys(langObj)) {\n        langObj = obj\n    }\n}\n\n// todo 类型修复\n/**\n * 自动生成多语言配置文件的核心方法\n *\n * 主要流程：\n * 1. 加载现有翻译文件\n * 2. 对比找出新增需要翻译的内容\n * 3. 分块并行翻译所有目标语言\n * 4. 合并翻译结果并生成最终配置文件\n *\n * 异常处理：\n * - 翻译结果不完整时中断流程\n * - 文件读写失败时明确报错\n */\nexport async function autoTranslate() {\n    // 初始化现有翻译文件缓存\n    const originLangObjMap: Record<string, any> = {}\n\n    // 加载所有语言的现有翻译内容\n    option.langKey.forEach(lang => {\n        originLangObjMap[lang] = fileUtils.getLangObjByJSONFileWithLangKey(lang)\n    })\n\n    // 获取当前待翻译内容（深拷贝避免污染原始数据）\n    const currentLangObj = JSON.parse(JSON.stringify(getLangObj()))\n\n    // 筛选需要翻译的新增内容\n    const transLangObj: Record<string, string> = {}\n    Object.keys(currentLangObj).forEach(key => {\n        if (!originLangObjMap[option.originLang][key]) {\n            transLangObj[key] = currentLangObj[key]\n        }\n    })\n\n    // 无新内容提前退出\n    if (Object.keys(transLangObj).length === 0) {\n        console.info('✅ 当前没有需要翻译的新内容')\n        return\n    }\n\n    // 初始化翻译结果存储结构\n    const newLangObjMap: Record<string, (string | number)[]> = {}\n\n    // 遍历所有目标语言进行处理\n    for (let langIndex = 0; langIndex < option.langKey.length; langIndex++) {\n        const currentLang = option.langKey[langIndex]\n\n        // 原始语言直接存储原文，读取扫出来的元素翻译内容\n        if (langIndex === 0) {\n            newLangObjMap[option.originLang] = Object.values(transLangObj)\n            continue\n        }\n\n        console.info('开始自动翻译...')\n\n        // ─── 分块翻译流程开始 ───\n        const translatedValues = await translateChunks(transLangObj, option.langKey[langIndex])\n        // ─── 分块翻译流程结束 ───=\n\n        // ─── 翻译结果校验 ───\n        if (translatedValues.length !== Object.keys(transLangObj).length) {\n            console.error(\n                '❌ 使用付费翻译时，请检查翻译API额度是否充足，或是否已申请对应翻译API使用权限'\n            )\n            console.error(`❌ 翻译结果不完整\n                预期数量: ${Object.keys(transLangObj).length}\n                实际数量: ${translatedValues.length}\n                样例数据: ${JSON.stringify(translatedValues.slice(0, 3))}`)\n            return\n        }\n\n        // 存储当前语言翻译结果\n        newLangObjMap[currentLang] = translatedValues\n        console.info(`✅ ${currentLang} 翻译完成`)\n    }\n\n    // ─── 合并翻译结果到配置 ───\n    Object.keys(transLangObj).forEach((key: any, index) => {\n        option.langKey.forEach(item => {\n            originLangObjMap[item][key] = newLangObjMap[item][index]\n        })\n    })\n\n    // ─── 生成最终配置文件结构 ───\n    console.log('📄 构建配置文件数据结构...')\n    const configLangObj: Record<string, Record<string, string>> = {}\n    Object.keys(originLangObjMap[option.originLang]).forEach(key => {\n        configLangObj[key] = {}\n        option.langKey.forEach(lang => {\n            configLangObj[key][lang] = originLangObjMap[lang][key]\n        })\n    })\n\n    // ─── 写入文件系统 ───\n    try {\n        fileUtils.setLangTranslateJSONFile(configLangObj)\n        console.info('🎉 多语言配置文件已成功更新')\n    } catch (error) {\n        console.error('❌ 配置文件写入失败，原因:', error)\n        // todo 可添加重试逻辑或回滚机制\n    }\n}\n\n/**\n * @description: 新增语言类型配置补全\n * @param {any} obj\n * @return {*}\n */\nexport function languageConfigCompletion(obj: any) {\n    if (!Object.keys(obj)) return\n    let needCompletionList: any[] = []\n    const JSONobj = JSON.parse(fileUtils.getLangTranslateJSONFile())\n    option.targetLangList.forEach(item => {\n        let langObj = fileUtils.getLangObjByJSONFileWithLangKey(item, JSONobj)\n        needCompletionList.push({\n            key: item,\n            curLangObj: langObj\n        })\n    })\n    needCompletionList.forEach(async item => {\n        await completionTranslateAndWriteConfigFile(obj, item.curLangObj, item.key)\n    })\n}\n\n/**\n * @description: 补全新增语言翻译写入函数\n * @param langObj\n * @param curLangObj\n * @param translateKey\n * @return\n */\nexport async function completionTranslateAndWriteConfigFile(\n    langObj: Record<string, string>,\n    curLangObj: Record<string, string>,\n    translateKey: string\n) {\n    // 生产需要更新的语言对象\n    const transLangObj: Record<string, string> = {}\n    Object.keys(langObj).forEach(key => {\n        if (!curLangObj[key]) {\n            transLangObj[key] = langObj[key]\n        }\n    })\n\n    if (!Object.values(transLangObj).length) return\n\n    // ─── 分块翻译流程开始 ───\n\n    console.info('进入新增语言补全翻译...')\n\n    // 调用抽离的函数\n    const resultValues = await translateChunks(transLangObj, translateKey)\n    // ─── 分块翻译流程结束 ───\n\n    if (resultValues.length !== Object.values(langObj).length) {\n        console.error('翻译异常，翻译结果缺失❌')\n        return\n    }\n    let newLangObjMap = resultValues\n    console.info('翻译成功⭐️⭐️⭐️')\n\n    Object.keys(transLangObj).forEach((key, index) => {\n        curLangObj[key] = newLangObjMap[index]\n    })\n\n    console.log('开始写入JSON配置文件...')\n    const configLangObj: any = JSON.parse(fileUtils.getLangTranslateJSONFile())\n\n    Object.keys(transLangObj).forEach(key => {\n        configLangObj[key][translateKey] = curLangObj[key]\n    })\n    try {\n        fileUtils.setLangTranslateJSONFile(configLangObj)\n        console.info('JSON配置文件写入成功⭐️⭐️⭐️')\n    } catch (error) {\n        console.error('❌JSON配置文件写入失败' + error)\n    }\n    console.info('新增语言翻译补全成功⭐️⭐️⭐️')\n}\n\n// 分块翻译流程函数\nasync function translateChunks(transLangObj: Record<string, string>, translateKey: string) {\n    const { translator } = option\n    // 获取分块后的文本列表\n    const translationChunks = chunkUtils.createTextSplitter(\n        Object.values(transLangObj),\n        translator.option.maxChunkSize\n    )\n    // 并行执行分块翻译\n    const translatePromises = []\n    for (let i = 0; i < translationChunks.length; i++) {\n        translatePromises.push(\n            translator.translate(translationChunks[i], option.originLang, translateKey, SEPARATOR)\n        )\n    }\n\n    // 等待所有分块完成并合并结果\n    const chunkResults = await Promise.all(translatePromises)\n    return chunkResults\n        .map(item => {\n            // 提取分割逻辑到单独的函数中，提高代码复用性\n            const splitTranslation = (text: string, separatorRegex: RegExp) => {\n                return text.split(separatorRegex).map(v => v.trim())\n            }\n\n            // 分割符可能会被翻译，所以这里做了兼容处理\n            if (SPLIT_SEPARATOR_REGEX.test(item)) {\n                return splitTranslation(item, SPLIT_SEPARATOR_REGEX)\n            } else {\n                const lines = item.split('\\n')\n                const separator = lines.find(line => line.length === 3)\n                let value: string[] = []\n                if (separator) {\n                    value = splitTranslation(item, new RegExp(`\\\\n${separator}\\\\n`))\n                }\n                const realList = value.filter(Boolean)\n                if (realList.length > 1) {\n                    return realList\n                }\n                return splitTranslation(item, SPLIT_SEPARATOR_REGEX)\n            }\n        })\n        .flat()\n}\n","/*\n * @Date: 2025-02-17 17:11:26\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-02-17 18:00:37\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/chunk.ts\n */\nimport { SEPARATOR } from './translate'\n\n/**\n * 智能文本分块处理器\n * @param values 待分块的原始文本数组\n * @param maxChunkSize 最大分块长度\n * @returns 包含分块文本和重组方法的对象\n *\n * 功能特性：\n * 1. 自动合并小文本为最大可能块\n * 2. 处理超长文本并给出警告\n * 3. 保证块长度不超过限制\n * 4. 保留原始顺序和分隔符语义\n */\nexport function createTextSplitter(values: string[], maxChunkSize: number) {\n    // 分隔符定义（用于合并/拆分时保持语义）\n    const SEP_LENGTH = SEPARATOR.length\n\n    // 结果存储和缓冲区\n    const result: string[] = [] // 最终分块结果\n    let buffer: string[] = [] // 当前累积块缓冲区\n    let currentSize = 0 // 当前缓冲区字符数（含分隔符）\n\n    /**\n     * 提交缓冲区内容到结果集\n     * - 将缓冲区内容用分隔符连接\n     * - 重置缓冲区和计数器\n     */\n    const commitBuffer = () => {\n        if (buffer.length > 0) {\n            // 计算实际连接长度用于验证\n            const actualLength = buffer.join(SEPARATOR).length\n            if (actualLength > maxChunkSize) {\n                console.warn(`缓冲区提交异常：生成块长度 ${actualLength} 超过限制`)\n            }\n\n            result.push(buffer.join(SEPARATOR))\n            buffer = []\n            currentSize = 0\n        }\n    }\n\n    // 主处理循环：遍历所有原始文本项\n    for (const value of values) {\n        // 计算需要新增的空间：文本长度 + 分隔符（非首项）\n        const neededSpace = value.length + (buffer.length > 0 ? SEP_LENGTH : 0)\n\n        // ─── 超长文本处理策略 ───\n        if (value.length > maxChunkSize) {\n            // 优先提交现有缓冲区内容\n            if (buffer.length > 0) commitBuffer()\n\n            /**\n             * 超长文本处理逻辑：\n             * - 长度超过1.5倍限制时发出强警告\n             * - 强制单独成块（即使超过限制）\n             * - 后续需要特殊处理这些异常块\n             */\n            if (value.length > maxChunkSize * 1.5) {\n                console.warn(\n                    `超长文本告警：检测到长度 ${value.length} 字符的文本项，可能影响翻译质量`\n                )\n            }\n            // 结果直接新增一个超长文本\n            result.push(value)\n            continue\n        }\n\n        // ─── 正常分块逻辑 ───\n        // 空间不足时提交当前缓冲区\n        if (currentSize + neededSpace > maxChunkSize) {\n            commitBuffer()\n        }\n\n        // 更新缓冲区状态（累加长度需包含分隔符）\n        currentSize += neededSpace\n        buffer.push(value)\n    }\n\n    // 提交最终未完成的缓冲区内容\n    commitBuffer()\n\n    // 返回分块结果\n    return result\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 18:18:51\n * @LastEditTime: 2025-03-16 15:17:30\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/filter/visitor/CallExpression.ts\n */\nimport { baseUtils, translateUtils } from 'src/utils'\nimport { TranslateTypeEnum } from 'src/enums'\nimport * as types from '@babel/types'\nimport { option } from 'src/option'\n\n// 收集翻译对象\nexport default function (insertOption: any) {\n    return function (path: any) {\n        let { node } = path\n        // 提取公共部分，减少重复访问 node.callee 属性\n        const callee = node.callee\n        if (\n            callee.name === option.translateKey ||\n            (callee.property && callee.property.name === option.translateKey) // 拓展 半自动模式下的 如 a.b.c() 调用\n        ) {\n            if (option.translateType === TranslateTypeEnum.SEMI_AUTO) {\n                // 获取当前翻译函数的参数\n                let arg = node.arguments || []\n                // 如果参数数量不为 1，则直接返回\n                if (arg.length === 1) {\n                    const value = arg[0]?.value || ''\n                    // 生成真实调用函数\n                    const replaceNode = baseUtils.createI18nTranslator({\n                        insertOption,\n                        value,\n                        isExpression: true\n                    })\n                    path.replaceWith(replaceNode)\n                    translateSetLang(replaceNode)\n                }\n            } else if (option.translateType === TranslateTypeEnum.FULL_AUTO) {\n                // 全自动模式下还是只收集 单独 $t 调用\n                if (\n                    callee.name === option.translateKey ||\n                    (callee.property && callee.property.name === option.translateKey)\n                )\n                    translateSetLang(node)\n            }\n        }\n    }\n}\n\n/**\n * @description: 处理翻译并设置语言对象属性\n * @param node - 调用表达式节点\n * @return\n */\nfunction translateSetLang(node: types.CallExpression) {\n    // 获取调用表达式的参数\n    let arg = node.arguments || []\n    // 提取参数作为值\n    // 检查参数是否为字符串字面量\n    const id = types.isStringLiteral(arg[0]) ? arg[0].value : ''\n    const value = types.isStringLiteral(arg[1]) ? arg[1].value : ''\n    // 检查 ID 和值是否存在，并且第二个参数是字符串字面量\n    if (id && value && types.isStringLiteral(arg[1])) {\n        // 调用翻译工具的 setLangObj 方法设置语言对象属性\n        translateUtils.setLangObj(id, value)\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 18:18:51\n * @LastEditTime: 2025-03-31 02:28:53\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/filter/visitor/StringLiteral.ts\n */\nimport { baseUtils, splitUtils } from 'src/utils'\nimport { TranslateTypeEnum } from 'src/enums'\nimport * as types from '@babel/types'\nimport { option } from 'src/option'\n\nexport default function (insertOption: any) {\n    return function (path: any) {\n        if (option.translateType === TranslateTypeEnum.SEMI_AUTO) {\n            return\n        }\n        let { node, parent } = path\n        let value = node.value\n\n        // 定义一个包含亚洲语言代码的数组\n        const asianLangs = ['zh-cn', 'ja', 'ko']\n        if (\n            asianLangs.some(lang => option.originLang.includes(lang) || option.originLang === lang)\n        ) {\n            try {\n                value = baseUtils.unicodeToString(value)\n            } catch (error) {\n                console.log('转换异常')\n            }\n        }\n        if (\n            baseUtils.hasOriginSymbols(value) &&\n            option.excludedPattern.length &&\n            !baseUtils.checkAgainstRegexArray(value, [...option.excludedPattern])\n        ) {\n            // 获取真实调用函数\n            const extractFnName = baseUtils.extractFunctionName(parent)\n\n            // 防止导入语句，只处理那些当前节点不是键值对的键的字符串字面量，调用语句判断当前调用语句是否包含需要过滤的调用语句\n            if (\n                parent?.callee?.property?.name === option.translateKey ||\n                types.isImportDeclaration(parent) ||\n                parent.key === node ||\n                (types.isCallExpression(parent) &&\n                    extractFnName &&\n                    (option.excludedCall.includes(extractFnName) ||\n                        (extractFnName?.split('.')?.pop() &&\n                            option.excludedCall.includes(extractFnName?.split('.')?.pop() || ''))))\n            )\n                return\n            let replaceNode\n            if (option.deepScan && splitUtils.checkNeedSplit(value)) {\n                replaceNode = splitUtils.convertToTemplateLiteral(\n                    splitUtils.splitByRegex(value, baseUtils.getOriginRegex()),\n                    insertOption\n                )\n            } else if (types.isJSXAttribute(parent)) {\n                let expression = baseUtils.createI18nTranslator({\n                    insertOption,\n                    value,\n                    isExpression: true\n                })\n                replaceNode = types.jSXExpressionContainer(expression)\n            } else {\n                replaceNode = baseUtils.createI18nTranslator({\n                    insertOption,\n                    value,\n                    isExpression: true\n                })\n            }\n            path.replaceWith(replaceNode)\n        }\n    }\n}\n","/*\n * @Date: 2025-03-26 20:28:21\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-03-31 10:29:49\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/split.ts\n */\n// 插件核心文件\n// 字符串切割与转换函数\n// import generate from '@babel/generator'\nimport { getOriginRegex } from './base'\nimport * as types from '@babel/types'\nimport { baseUtils } from '.'\n\n// todo 这个切割函数可以优化，性能可能很差\n/**\n * 根据正则表达式分割字符串，并将符合正则的连续字符拼接起来。\n * @param str - 要分割的字符串。\n * @param separatorRegex - 用于分割字符串的正则表达式。\n * @returns 分割并拼接后的字符串数组。\n */\nexport function splitByRegex(str: string, separatorRegex: RegExp): string[] {\n    // 定义标点符号的正则表达式\n    const punctuationRegex = /[，。？！《》,.．：!?\"\"''；‘“、0-9]/\n    // 创建一个新的正则表达式，用于分割字符串\n    const splitRegex = new RegExp(\n        `(${separatorRegex.source}|${punctuationRegex.source})`,\n        separatorRegex.flags\n    )\n\n    // 使用正则表达式分割字符串，并过滤掉空字符串\n    const splitArr = str.split(splitRegex).filter(Boolean)\n    const result: string[] = []\n    let currentMatch = ''\n\n    // 定义连接标点符号的正则表达式\n    const connectPunctuationRegex = /[，。？！《》,.．：!?；‘“、0-9]/\n    // 创建一个新的正则表达式，用于检测是否需要连接\n    const connectRegex = new RegExp(\n        `(${separatorRegex.source}|${connectPunctuationRegex.source})`,\n        separatorRegex.flags\n    )\n\n    // 遍历分割后的数组\n    for (const item of splitArr) {\n        if (connectRegex.test(item)) {\n            // 如果当前项符合连接条件，则将其添加到当前匹配字符串中\n            currentMatch += item\n        } else {\n            // 如果当前匹配字符串不为空，则将其添加到结果数组中\n            if (currentMatch) {\n                result.push(currentMatch)\n                currentMatch = ''\n            }\n            // 将当前项添加到结果数组中\n            result.push(item)\n        }\n    }\n\n    // 如果最后一个匹配字符串不为空，则将其添加到结果数组中\n    if (currentMatch) {\n        result.push(currentMatch)\n    }\n\n    // 再遍历一次，把不符合separatorRegex 这个正则的拼起来\n    const finalResult: string[] = []\n    let tempStr = ''\n\n    for (let i = 0; i < result.length; i++) {\n        const item = result[i]\n        if (separatorRegex.test(item)) {\n            if (tempStr) {\n                finalResult.push(tempStr)\n                tempStr = ''\n            }\n            finalResult.push(item)\n        } else {\n            tempStr += item\n            if (i === result.length - 1 || separatorRegex.test(result[i + 1])) {\n                finalResult.push(tempStr)\n                tempStr = ''\n            }\n        }\n    }\n\n    if (tempStr) {\n        finalResult.push(tempStr)\n    }\n    return finalResult\n}\n\n/**\n * 检查字符串是否需要切割。\n * @param str - 要检查的字符串。\n * @returns 如果字符串需要切割，则返回 true，否则返回 false。\n */\nexport function checkNeedSplit(str: string) {\n    // 检查字符串中是否包含需要切割的特殊字符\n    return (\n        str.includes('\\n') ||\n        str.includes('\\\\') ||\n        str.includes('\\r') ||\n        str.includes('\\t') ||\n        str.includes('\\v') ||\n        str.includes('\\f') ||\n        str.includes('>') ||\n        str.includes('<')\n    )\n}\n\n/**\n * @description: 将字符串数组转换为babel的模板字符串节点\n * @param {string[]} strArray - 字符串数组\n * @return {types.CallExpression} - babel的深度扫描的表达式\n */\nexport function convertToTemplateLiteral(strArray: string[], option?: any): types.CallExpression {\n    const quasis: types.TemplateElement[] = []\n    const expressions: types.Expression[] = []\n\n    strArray.forEach((str, index) => {\n        if (index === 0) {\n            if (getOriginRegex().test(str)) {\n                quasis.push(types.templateElement({ raw: '', cooked: '' }, false))\n                expressions.push(\n                    baseUtils.createI18nTranslator({\n                        value: str,\n                        isExpression: true,\n                        insertOption: option\n                    })\n                )\n            } else {\n                quasis.push(types.templateElement({ raw: str, cooked: str }, false))\n            }\n        } else {\n            if (getOriginRegex().test(str)) {\n                expressions.push(\n                    baseUtils.createI18nTranslator({\n                        value: str,\n                        isExpression: true,\n                        insertOption: option\n                    })\n                )\n            } else {\n                quasis.push(types.templateElement({ raw: str, cooked: str }, false))\n            }\n        }\n    })\n\n    if (quasis.length === expressions.length) {\n        quasis.push(types.templateElement({ raw: '', cooked: '' }, true))\n    } else if (quasis.length > expressions.length) {\n        quasis[quasis.length - 1].tail = true\n    }\n\n    const templateLiteral = types.templateLiteral(quasis, expressions)\n    const deepScanCall = types.callExpression(types.identifier('$deepScan'), [templateLiteral])\n    // 打印转换结果\n    // console.log('deepScanCall', (generate as any).default(deepScanCall).code)\n    return deepScanCall\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 18:00:37\n * @LastEditTime: 2023-11-02 10:36:02\n * @FilePath: /i18n_translation_vite/src/plugins/filter/index.ts\n */\n\nimport TemplateElementFn from './visitor/TemplateElement'\nimport CallExpressionFn from './visitor/CallExpression'\nimport StringLiteralFn from './visitor/StringLiteral'\nimport JSXTextFn from './visitor/JSXText'\n\nexport default function (insertOption?: any) {\n    // 分别调用各个访问器函数并传入插入选项\n    const stringLiteralVisitor = StringLiteralFn(insertOption)\n    const jsxTextVisitor = JSXTextFn(insertOption)\n    const templateElementVisitor = TemplateElementFn(insertOption)\n    const callExpressionVisitor = CallExpressionFn(insertOption)\n\n    // 返回一个函数，该函数返回包含访问器的对象\n    return function () {\n        return {\n            // 定义 Babel 访问器对象\n            visitor: {\n                StringLiteral: stringLiteralVisitor,\n                JSXText: jsxTextVisitor,\n                TemplateElement: templateElementVisitor,\n                CallExpression: callExpressionVisitor\n            }\n        }\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-11-01 16:35:38\n * @LastEditTime: 2025-03-16 18:24:44\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/filter/visitor/JSXText.ts\n */\nimport { TranslateTypeEnum } from 'src/enums'\nimport * as types from '@babel/types'\nimport { baseUtils } from 'src/utils'\nimport { option } from 'src/option'\n\nexport default function (insertOption: any) {\n    return function (path: any) {\n        console.log('jsx text')\n\n        if (option.translateType === TranslateTypeEnum.SEMI_AUTO) {\n            return\n        }\n\n        let { node } = path\n        let value = node.value\n        // 定义一个包含亚洲语言代码的数组\n        const asianLangs = ['zh-cn', 'ja', 'ko']\n        if (\n            asianLangs.some(lang => option.originLang.includes(lang) || option.originLang === lang)\n        ) {\n            try {\n                value = baseUtils.unicodeToString(value)\n            } catch (error) {\n                console.log('转换异常')\n            }\n        }\n        if (\n            baseUtils.hasOriginSymbols(value) &&\n            option.excludedPattern.length &&\n            !baseUtils.checkAgainstRegexArray(value, [...option.excludedPattern])\n        ) {\n            // 生成翻译节点\n            let expression = baseUtils.createI18nTranslator({\n                insertOption,\n                value,\n                isExpression: true\n            })\n            // 生成的翻译节点包装在  types.JSXExpressionContainer  中\n            let newNode = types.jSXExpressionContainer(expression)\n            // 使用  path.replaceWith  方法将原来的节点替换为新的翻译节点\n            path.replaceWith(newNode)\n        }\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-11-01 16:35:38\n * @LastEditTime: 2025-03-31 02:29:02\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/filter/visitor/TemplateElement.ts\n */\nimport { baseUtils, translateUtils } from 'src/utils'\nimport { TranslateTypeEnum } from 'src/enums'\nimport { option } from 'src/option'\nimport types from '@babel/types'\n\nexport default function (insertOption: any) {\n    return function (path: any) {\n        if (option.translateType === TranslateTypeEnum.SEMI_AUTO) {\n            return\n        }\n        let { node, parent } = path\n        if (!node.value) return\n\n        let value = node.value.raw || node.value.cooked // 获取模板字符串的值\n        // 定义一个包含亚洲语言代码的数组\n        const asianLangs = ['zh-cn', 'ja', 'ko']\n        if (\n            asianLangs.some(lang => option.originLang.includes(lang) || option.originLang === lang)\n        ) {\n            try {\n                value = baseUtils.unicodeToString(value)\n            } catch (error) {\n                console.log('转换异常')\n            }\n        }\n        // 是否存在来源语言字符，是否在默认字符串中，是否包含过滤字段\n        if (\n            value &&\n            baseUtils.hasOriginSymbols(value) &&\n            option.excludedPattern.length &&\n            !baseUtils.checkAgainstRegexArray(value, [...option.excludedPattern])\n        ) {\n            // 获取真实调用函数\n            const extractFnName = baseUtils.extractFunctionName(parent)\n            // 调用语句判断当前调用语句是否包含需要过滤的调用语句\n            if (\n                types.isCallExpression(parent) &&\n                extractFnName &&\n                (option.excludedCall.includes(extractFnName) ||\n                    (extractFnName?.split('.')?.pop() &&\n                        option.excludedCall.includes(extractFnName?.split('.')?.pop() || '')))\n            )\n                return\n\n            // 生成字符类型翻译节点\n            let newNode = baseUtils.createI18nTranslator({\n                insertOption,\n                value\n            })\n\n            // 替换为字符类型翻译节点\n            node.value.raw = node.value.cooked = `\\${${newNode}}`\n\n            let id = baseUtils.generateId(value)\n\n            if (id && value) {\n                translateUtils.setLangObj(id, value)\n            }\n        }\n    }\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","__spreadArray","to","from","pack","ar","l","slice","concat","SuppressedError","OriginLangKeyEnum","TranslateApiEnum","TranslateTypeEnum","IntervalQueue","fn","delay","timeout","queue","isRunning","wait","setTimeout","_a","run","item","shift","args","e_1","execute","_this","_i","Error","Translator","option","defaultErrorHandler","error","name","console","getErrorMessage","getResultOption","resultOption","version","maxChunkSize","interval","onError","fetchMethod","bind","message","translate","text","fromKey","toKey","separator","error_1","GoogleTranslator","_super","proxyOption","fetchOptions","agent","tunnel","httpsOverHttp","proxy","cb","code","YoudaoTranslator","salt","Date","getTime","curTime","Math","round","str","appId","truncate","appKey","sign","CryptoJS","SHA256","toString","enc","Hex","data","q","getTranslateKey","signType","curtime","axios","post","headers","response","_b","translation","YOUDAO_TRANSLATE_KEY_CONVERT_MAP","len","substring","key","BaiduTranslator","appid","MD5","translatedTexts","trans_result","map","dst","filter","_item","index","join","BAIDU_TRANSLATE_KEY_CONVERT_MAP","ja","ko","EmptyTranslator","_from","_to","split","fill","ScanTranslator","VolcengineTranslator","textArr","model","messages","role","content","desc","JSON","stringify","Authorization","apiKey","parse","choices","FunctionFactoryOption","originLang","REGEX_MAP","ZH","EN","JA","KO","RU","getOriginRegex","hasOriginSymbols","test","checkAgainstRegexArray","regexArray","RegExp","extractFunctionName","node","callName","types","isCallExpression","isMemberExpression","callee","callObjName","callObj","property","object","extractStrings","fileContent","regex","matches","match","indexOf","createI18nTranslator","createOption","isExpression","insertOption","nameSpace","namespace","trimmedValue","trim","valStr","replace","generatedKey","generateId","config","hash","uncodeValue","translateExtends","handleCodeCall","handleCodeString","valueExp","stringLiteral","extra","raw","rawValue","callExpression","identifier","translateKey","charCodeAt","abs","unicodeToString","fromCharCode","parseInt","cloneDeep","cache","WeakMap","has","get","source","flags","clone","isArray","set","keys_1","keys","getOwnPropertySymbols","sym","propertyIsEnumerable","EXCLUDED_CALL","DEFAULT_OPTION","excludedCall","excludedPattern","excludedPath","includePath","globalPath","distPath","distKey","targetLangList","langKey","buildToDist","translator","port","host","translatorOption","undefined","translateType","FULL_AUTO","rewriteConfig","commonTranslateKey","deepScan","insertFileExtensions","Vue2Extends","handleInitFile","path","importVue","hasVue","importDefaultChar","babel","transformAsync","configFile","plugins","visitor","ImportDeclaration","specifiers","forEach","specifier","isImportDefaultSpecifier","local","unshift","importDefaultSpecifier","_initFileResult","memberExpression","indentConfig","tab","char","size","space","configDefault","type","placeholderStorage","pushPlaceholder","popPlaceholder","_match","generateIndentation","count","indentType","jsonFormatter","json","jsonString","indent","output","indentLevel","charAt","formatJSON","initTranslateBasicFnFile","langMapList","translateBasicFnText","indexPath","fs","existsSync","needUpdate","readFileSync","writeFileSync","initLangTranslateJSONFile","getLangTranslateJSONFile","filePath","log","getLangObjByJSONFileWithLangKey","insertJSONObj","JSONObj","langObj","setLangTranslateJSONFile","obj","jsonObj","langObjMap","readdir","err","files","file","startsWith","endsWith","filePath_1","readFile","buildLangConfigString","info","mkdirSync","SEPARATOR","SPLIT_SEPARATOR_REGEX","setLangObj","getLangObj","completionTranslateAndWriteConfigFile","curLangObj","transLangObj","values","translateChunks","resultValues","newLangObjMap","configLangObj","fileUtils","translationChunks","SEP_LENGTH","buffer","currentSize","commitBuffer","actualLength","warn","values_1","neededSpace","chunkUtils","translatePromises","all","splitTranslation","separatorRegex","find","line","realList","Boolean","flat","originLangObjMap","lang","currentLangObj","langIndex","currentLang","translatedValues","needCompletionList","JSONobj","translateSetLang","arg","id","isStringLiteral","translateUtils","StringLiteralFn","SEMI_AUTO","parent","some","includes","baseUtils","extractFnName","isImportDeclaration","_c","_d","replaceNode","strArray","quasis","expressions","templateElement","cooked","tail","templateLiteral","splitUtils","splitRegex","splitArr","currentMatch","connectRegex","splitArr_1","finalResult","tempStr","isJSXAttribute","expression","jSXExpressionContainer","replaceWith","stringLiteralVisitor","jsxTextVisitor","newNode","JSXTextFn","templateElementVisitor","TemplateElementFn","callExpressionVisitor","CallExpressionFn","StringLiteral","JSXText","TemplateElement","CallExpression","optionInfo","userOption","generateUserOption"],"mappings":"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","x_google_ignoreList":[0]}